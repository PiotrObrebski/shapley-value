(this["webpackJsonpshapley-value"]=this["webpackJsonpshapley-value"]||[]).push([[0],{143:function(e,t,n){},148:function(e,t,n){},223:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){"use strict";n.r(t);n(143);var a=n(0),i=n.n(a),l=n(35),c=n.n(l),s=(n(148),n(149),n(37)),r=n(34),o=n(239),u=n(238),O=n(241),j=n(7),d=function(e){var t=e.numberOfPlayers,n=e.message,a=e.maxValue,i=e.handleNumberOfPlayesChange;return Object(j.jsxs)(u.a,{labelCol:{span:12},wrapperCol:{span:12},layout:"horizontal",size:"middle",className:"number-of-players-input",children:[Object(j.jsx)("div",{className:"error-message",children:n}),Object(j.jsx)(u.a.Item,{labelAlign:"right",label:"Number of players",children:Object(j.jsx)(O.a,{min:0,max:a-1,defaultValue:0,value:t,onChange:i})})]})},b=function(){return Object(j.jsx)("div",{className:"function-definition-input"})},f=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=(t[0],t[1]),i=Object(a.useState)([]),l=Object(r.a)(i,2),c=(l[0],l[1],Object(a.useState)(void 0)),s=Object(r.a)(c,2),o=s[0],u=s[1],O=Object(a.useState)([]),f=Object(r.a)(O,2),v=(f[0],f[1]),p=Object(a.useState)([]),h=Object(r.a)(p,2),y=(h[0],h[1]),S=Object(a.useState)([]),N=Object(r.a)(S,2);N[0],N[1];return Object(j.jsxs)("div",{className:"calculator-coalition-definition",children:[Object(j.jsx)(d,{maxValue:10,message:o,handleNumberOfPlayesChange:function(e){e<10?(n(function(e){return Array.from({length:e},(function(e,t){return t+1}))}(e)),y(Array(Math.pow(2,e)).fill(0)),v([]),u(void 0)):u("Number of coalition members exceded!")}}),Object(j.jsx)(b,{})]})},v=n(28),p=n(235),h=n(236),y=n(64),S=(n(223),n(135)),N=function(e,t){var n=-1;return e.forEach((function(e,a){S.a.isEqual(e,t)&&(n=a)})),n},m=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e>0;)t*=e--;return t},x=function(e,t,n){var a=[];return e.forEach((function(i){var l=function(e,t,n,a){var i=0;return n.forEach((function(l){if(l.includes(e)){var c,s=a[N(n,l)],r=Object(v.a)(l);r.splice(l.indexOf(e),1);var o=null!==(c=a[N(n,r)])&&void 0!==c?c:0,u=m(r.length),O=m(t.length-r.length-1)*u/m(t.length);i+=(s-(null!==o&&void 0!==o?o:0))*O}})),Number(i.toFixed(2))}(i,e,t,n);a.push(l)})),a},C=function(e){return Array.from({length:e},(function(e,t){return t+1}))},E=function(e,t){var n=Array(t).fill(0);return e.forEach((function(e){var t,a,i=e.positivePlayers.length,l=e.negativePlayers.length,c=(t=i,a=l,e.value*m(t-1)*m(a)/m(t+a)),s=function(e,t,n){return-1*n*(m(t-1)*m(e))/m(e+t)}(l,i,e.value);e.positivePlayers.forEach((function(e){n[parseFloat(e)-1]+=c})),e.negativePlayers.forEach((function(e){n[parseFloat(e)-1]+=s}))})),n},_=n(22),g=n(237),T=n(101),I=n.n(T),P={SET_COALITIONS_NUMBER_OF_PLAYERS:"SET_COALITIONS_NUMBER_OF_PLAYERS",SET_COALITIONS_COALITIONS:"SET_COALITIONS_COALITIONS",SET_COALITIONS_FUNCTION_OF_COALITIONS:"SET_COALITIONS_FUNCTION_OF_COALITIONS",SET_COALITIONS_SHAPLEY_VALUES:"SET_COALITIONS_SHAPLEY_VALUES",SET_MCNETS_NUMBER_OF_PLAYERS:"SET_MCNETS_NUMBER_OF_PLAYERS",SET_MCNETS_RULES:"SET_MCNETS_RULES",SET_MCNETS_SHAPLEY_VALUES:"SET_MCNETS_SHAPLEY_VALUES",SET_GRAPH_GAME_DEFINITION:"SET_GRAPH_GAME_DEFINITION"},A=function(e){return{type:P.SET_COALITIONS_FUNCTION_OF_COALITIONS,payload:e}},L=function(e){return{type:P.SET_MCNETS_NUMBER_OF_PLAYERS,payload:e}},M=function(e){return{type:P.SET_MCNETS_RULES,payload:e}},V=Object(s.b)((function(e){var t,n;return{coalitions:null===(t=e.aplication.coalitions)||void 0===t?void 0:t.coalitions,functionOfCoalitions:null===(n=e.aplication.coalitions)||void 0===n?void 0:n.functionOfCoalitions}}),(function(e){return{setCoalitionsFunctionOfCoalitions:function(t){return e(A(t))}}}))((function(e){var t=e.coalitions,n=e.functionOfCoalitions,a=e.setCoalitionsFunctionOfCoalitions,i=null===t||void 0===t?void 0:t.map((function(e,t){return{key:t,coalition:e.length?e.toString():"\xd8",value:0}})),l=[{title:"Coalition Structure",dataIndex:"coalition",key:"coalition",align:"right"},{title:"Value",dataIndex:"value",key:"value",render:function(e,t){return Object(j.jsx)(O.a,{value:null===n||void 0===n?void 0:n[t.key],defaultValue:0,onChange:function(e){var i=n?Object(v.a)(n):[];i[t.key]=e,a(i)}})},align:"left"}];return Object(j.jsx)(g.a,{bordered:!0,size:"small",dataSource:i,pagination:!1,scroll:{y:300},className:"coalition-structures-input",children:l.map((function(e){return Object(j.jsx)(I.a,Object(_.a)({},e))}))})})),R=function(e){var t=e.listShapleyValues,n=e.tableMaxHeight,a=t.map((function(e,t){return{key:t,value:e,playerNumber:t+1}}));return Object(j.jsx)(g.a,{bordered:!0,size:"small",dataSource:a,pagination:!1,scroll:{y:null!==n&&void 0!==n?n:300},className:"display-generated-values",children:[{title:"Player number",dataIndex:"playerNumber",key:"playerNumber",align:"center"},{title:"Player Shapley Value",dataIndex:"value",key:"value",align:"center"}].map((function(e){return Object(j.jsx)(I.a,Object(_.a)({},e))}))})},F=n(134),U=n.n(F),k=Object(s.b)((function(e){var t=e.aplication.coalitions||{};return{nrOfPlayes:t.nrOfPlayes,coalitions:t.coalitions,functionOfCoalitions:t.functionOfCoalitions,shapleyValues:t.shapleyValues}}),(function(e){return{setCoalitionsNumberOfplayers:function(t){return e(function(e){return{type:P.SET_COALITIONS_NUMBER_OF_PLAYERS,payload:e}}(t))},setCoalitionsCoalitions:function(t){return e(function(e){return{type:P.SET_COALITIONS_COALITIONS,payload:e}}(t))},setCoalitionsFunctionOfCoalitions:function(t){return e(A(t))},setCoalitionsShapleyValues:function(t){return e(function(e){return{type:P.SET_COALITIONS_SHAPLEY_VALUES,payload:e}}(t))},setMCNetsRules:function(t){return e(M(t))},setMCNetsNumberOfplayers:function(t){return e(L(t))}}}))((function(e){var t=e.nrOfPlayes,n=e.coalitions,i=e.functionOfCoalitions,l=e.shapleyValues,c=e.setActiveTabKey,s=e.setCoalitionsNumberOfplayers,o=e.setCoalitionsCoalitions,u=e.setCoalitionsFunctionOfCoalitions,O=e.setCoalitionsShapleyValues,b=e.setMCNetsRules,f=Object(a.useState)(t?C(t):[]),S=Object(r.a)(f,2),N=S[0],m=S[1],E=Object(a.useState)(void 0),_=Object(r.a)(E,2),g=_[0],T=_[1];Object(a.useEffect)((function(){if(N){var e=N.reduce((function(e,t){return e.concat(e.map((function(e){return[].concat(Object(v.a)(e),[t])})))}),[[]]).sort((function(e,t){return e.length-t.length}));e[0].unshift(0),o(e)}}),[N,o]);return Object(j.jsxs)("div",{className:"calculator-coalition-structures",children:[Object(j.jsx)(d,{numberOfPlayers:t,maxValue:10,message:g,handleNumberOfPlayesChange:function(e){e<10?(s(e),m(C(e)),u(Array(Math.pow(2,e)).fill(0)),O([]),T(void 0)):T("Number of coalition members exceded!")}}),Object(j.jsxs)(p.a,{justify:"center",children:[Object(j.jsxs)(h.a,{xs:24,sm:24,md:24,lg:10,xl:10,children:[Object(j.jsx)(V,{}),Object(j.jsx)("div",{className:"upload",children:Object(j.jsx)(U.a,{cssClass:"react-csv-input",label:Object(j.jsx)("span",{children:"Upload game definition from .csv file "}),onFileLoaded:function(e){var t=[],n=[],a=0;e.forEach((function(e){var i;e.pop();var l=e.slice(0,-1);a=l.length>a?l.length:a,t.push(l),n.push(null!==(i=e.slice(-1).pop())&&void 0!==i?i:0)})),s(a),o(t),u(n)},inputName:"input2",parserOptions:{header:!1,dynamicTyping:!0,skipEmptyLines:!0}})}),Object(j.jsx)("div",{className:"download",children:Object(j.jsx)(y.a,{onClick:function(){var e,t=null!==(e=null===n||void 0===n?void 0:n.map((function(e,t){var n;return[].concat(Object(v.a)(e),[null!==(n=null===i||void 0===i?void 0:i[t])&&void 0!==n?n:0])})))&&void 0!==e?e:[[0]],a="data:text/csv;charset=utf-8,"+(null===t||void 0===t?void 0:t.map((function(e){return e.join(",")+","})).join("\n"));window.open(encodeURI(a))},children:"Download Game Definition"})})]}),Object(j.jsxs)(h.a,{className:"buttons-col",xs:24,sm:24,md:24,lg:4,xl:4,children:[Object(j.jsx)(y.a,{type:"primary",disabled:!N.length,className:"generate-button",onClick:function(){return O(x(N,null!==n&&void 0!==n?n:[],null!==i&&void 0!==i?i:[]))},children:"Generate Shapley Values"}),Object(j.jsx)(y.a,{disabled:!N.length,className:"generate-button",onClick:function(){var e=[],t=0;null===i||void 0===i||i.forEach((function(a,i){if(a){var l,c,s,r,o,u=null!==(l=null===n||void 0===n||null===(c=n[i])||void 0===c?void 0:c.map(String))&&void 0!==l?l:[];t=u.length>t?Math.max.apply(Math,Object(v.a)(null!==(s=null===n||void 0===n?void 0:n[i])&&void 0!==s?s:[])):t,e.push({positivePlayers:null!==(r=null===n||void 0===n||null===(o=n[i])||void 0===o?void 0:o.map(String))&&void 0!==r?r:[],negativePlayers:[],value:a})}})),b(e),L(t),c("mc-nets")},children:"Translate to MC Nets"})]}),Object(j.jsx)(h.a,{xs:24,sm:24,md:24,lg:10,xl:10,children:Object(j.jsx)(R,{listShapleyValues:null!==l&&void 0!==l?l:[]})})]})]})})),Y=n(242),w=n(139),H=Object(s.b)((function(e){var t;return{rules:null===(t=e.aplication.mcNets)||void 0===t?void 0:t.rules}}),(function(e){return{setMCNetsRules:function(t){return e(M(t))}}}))((function(e){var t=e.rules,n=e.setMCNetsRules;return Object(j.jsx)("div",{className:"add-mc-nets-rule",children:Object(j.jsxs)(p.a,{justify:"center",align:"middle",children:[Object(j.jsx)(h.a,{flex:"64px",children:"Add Rule"}),Object(j.jsx)(h.a,{flex:"40px",children:Object(j.jsx)(y.a,{type:"primary",shape:"circle",icon:Object(j.jsx)(w.a,{}),onClick:function(){return n([].concat(Object(v.a)(null!==t&&void 0!==t?t:[]),[{positivePlayers:[],negativePlayers:[],value:0}]))}})})]})})})),B=n(243),G=(n(229),n(84)),D=(n(230),function(e){var t=e.options,n=e.value,a=e.onChange;return Object(j.jsx)("div",{className:"player-group",children:Object(j.jsx)(G.a.Group,{options:t,value:n,onChange:a,style:{width:"calc(".concat(t.length," * 52px)")}})})}),z=Object(s.b)((function(e){var t,n=null!==(t=e.aplication.mcNets)&&void 0!==t?t:{};return{nrOfPlayes:n.nrOfPlayes,rules:n.rules}}),(function(e){return{setMCNetsRules:function(t){return e(M(t))}}}))((function(e){var t,n,a=e.index,i=e.nrOfPlayes,l=e.rules,c=e.setMCNetsRules,s=C(null!==i&&void 0!==i?i:0).map(String);return Object(j.jsx)("div",{className:"mc-nets-rule",children:Object(j.jsxs)(p.a,{align:"middle",wrap:!1,justify:"center",children:[Object(j.jsxs)(h.a,{flex:"100px",className:"mc-nets-rule-name",children:["Rule nr ".concat(a),Object(j.jsx)(O.a,{placeholder:"Value",onChange:function(e){var t=Object(v.a)(null!==l&&void 0!==l?l:[]);t[a].value=e,c(t)},value:null===l||void 0===l?void 0:l[a].value})]}),Object(j.jsxs)(h.a,{flex:"auto",children:[Object(j.jsx)("div",{className:"player-group-name",children:"Positive Players"}),Object(j.jsx)(D,{onChange:function(e){var t=Object(v.a)(null!==l&&void 0!==l?l:[]);t[a].positivePlayers=e,t[a].negativePlayers=t[a].negativePlayers.filter((function(t){return!e.includes(t)})),c(t)},value:null!==(t=null===l||void 0===l?void 0:l[a].positivePlayers)&&void 0!==t?t:[],options:s})]}),Object(j.jsxs)(h.a,{flex:"auto",children:[Object(j.jsx)("div",{className:"player-group-name",children:"Negative Players"}),Object(j.jsx)(D,{onChange:function(e){var t=Object(v.a)(null!==l&&void 0!==l?l:[]);t[a].negativePlayers=e,t[a].positivePlayers=t[a].positivePlayers.filter((function(t){return!e.includes(t)})),c(t)},value:null!==(n=null===l||void 0===l?void 0:l[a].negativePlayers)&&void 0!==n?n:[],options:s})]}),Object(j.jsx)(h.a,{flex:"32px",children:Object(j.jsx)(y.a,{type:"primary",shape:"circle",icon:Object(j.jsx)(B.a,{}),onClick:function(){var e=Object(v.a)(null!==l&&void 0!==l?l:[]);e.splice(a,1),c(e)}})})]})})})),K=(n(231),Object(s.b)((function(e){var t,n=null!==(t=e.aplication.mcNets)&&void 0!==t?t:{};return{nrOfPlayes:n.nrOfPlayes,rules:n.rules,shapleyValues:n.shapleyValues}}),(function(e){return{setMCNetsNumberOfplayers:function(t){return e(L(t))},setMCNetsShapleyValues:function(t){return e(function(e){return{type:P.SET_MCNETS_SHAPLEY_VALUES,payload:e}}(t))}}}))((function(e){var t=e.nrOfPlayes,n=e.rules,i=e.shapleyValues,l=e.setMCNetsNumberOfplayers,c=e.setMCNetsShapleyValues,s=Object(a.useState)(["1","2"]),o=Object(r.a)(s,2),u=o[0],O=o[1];return Object(j.jsx)("div",{className:"calculator-mc-nets",children:Object(j.jsxs)(Y.a,{activeKey:u,onChange:function(e){return O(e)},children:[Object(j.jsxs)(Y.a.Panel,{header:"Game Definition",children:[Object(j.jsxs)(p.a,{justify:"center",children:[Object(j.jsx)(h.a,{span:12,children:Object(j.jsx)(d,{maxValue:20,handleNumberOfPlayesChange:function(e){return l(e)}})}),Object(j.jsx)(h.a,{span:12,children:Object(j.jsx)(H,{})})]}),Object(j.jsx)("div",{className:"mc-nets-rules",children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(j.jsx)(z,{index:t},t)}))})]},"1"),Object(j.jsx)(Y.a.Panel,{header:"",showArrow:!1,forceRender:!0,collapsible:"disabled",className:"generate-panel",children:Object(j.jsx)(p.a,{justify:"center",gutter:32,children:Object(j.jsx)(y.a,{type:"primary",disabled:!t,className:"generate-button",onClick:function(){c(E(null!==n&&void 0!==n?n:[],null!==t&&void 0!==t?t:0));var e=u.includes("3")?u:[].concat(Object(v.a)(u),["3"]);O(e)},children:"Calculate"})})},"2"),Object(j.jsx)(Y.a.Panel,{header:"Shapley Values",className:"values-panel",children:Object(j.jsx)(R,{listShapleyValues:null!==i&&void 0!==i?i:[],tableMaxHeight:200})},"3")]})})}))),J=o.a.TabPane,q=function(){var e=Object(a.useState)("coalition"),t=Object(r.a)(e,2),n=t[0],i=t[1];return Object(j.jsxs)(o.a,{activeKey:n,onTabClick:function(e){return i(e)},centered:!0,children:[Object(j.jsx)(J,{tab:"Coalition structures definition",children:Object(j.jsx)(k,{setActiveTabKey:i})},"coalition"),Object(j.jsx)(J,{tab:"Function generating values",disabled:!0,children:Object(j.jsx)(f,{})},"function"),Object(j.jsx)(J,{tab:"MC-nets game representation",children:Object(j.jsx)(K,{})},"mc-nets")]})},Q=n(240),W=(n(232),function(){return Object(j.jsx)(Q.a,{title:"Shapley Value Calculator",subTitle:"Pick your game definition"})}),X=n(102),Z={},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.SET_COALITIONS_NUMBER_OF_PLAYERS:return Object(_.a)(Object(_.a)({},e),{},{coalitions:Object(_.a)(Object(_.a)({},e.coalitions),{},{nrOfPlayes:t.payload})});case P.SET_COALITIONS_COALITIONS:return Object(_.a)(Object(_.a)({},e),{},{coalitions:Object(_.a)(Object(_.a)({},e.coalitions),{},{coalitions:t.payload})});case P.SET_COALITIONS_FUNCTION_OF_COALITIONS:return Object(_.a)(Object(_.a)({},e),{},{coalitions:Object(_.a)(Object(_.a)({},e.coalitions),{},{functionOfCoalitions:t.payload})});case P.SET_COALITIONS_SHAPLEY_VALUES:return Object(_.a)(Object(_.a)({},e),{},{coalitions:Object(_.a)(Object(_.a)({},e.coalitions),{},{shapleyValues:t.payload})});case P.SET_MCNETS_NUMBER_OF_PLAYERS:return Object(_.a)(Object(_.a)({},e),{},{mcNets:Object(_.a)(Object(_.a)({},e.mcNets),{},{nrOfPlayes:t.payload})});case P.SET_MCNETS_RULES:return Object(_.a)(Object(_.a)({},e),{},{mcNets:Object(_.a)(Object(_.a)({},e.mcNets),{},{rules:t.payload})});case P.SET_MCNETS_SHAPLEY_VALUES:return Object(_.a)(Object(_.a)({},e),{},{mcNets:Object(_.a)(Object(_.a)({},e.mcNets),{},{shapleyValues:t.payload})});default:return e}},ee=Object(X.a)({aplication:$}),te=Object(X.b)(ee),ne=function(){return Object(j.jsx)(s.a,{store:te,children:Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(W,{}),Object(j.jsx)(q,{})]})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,244)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,l=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),l(e),c(e)}))};c.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(ne,{})}),document.getElementById("root")),ae()}},[[233,1,2]]]);
//# sourceMappingURL=main.115ba06f.chunk.js.map