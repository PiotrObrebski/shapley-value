(this["webpackJsonpshapley-value"]=this["webpackJsonpshapley-value"]||[]).push([[0],{144:function(e,t,a){e.exports=a(234)},149:function(e,t,a){},150:function(e,t,a){},154:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(39),i=a.n(r),o=(a(149),a(150),a(151),a(32)),c=a(36),u=a(241),s=a(54),d=a(237),f=a(239),p=a(70),m=a.n(p),v={SET_COALITIONS_NUMBER_OF_PLAYERS:"SET_COALITIONS_NUMBER_OF_PLAYERS",SET_COALITIONS_COALITIONS:"SET_COALITIONS_COALITIONS",SET_COALITIONS_FUNCTION_OF_COALITIONS:"SET_COALITIONS_FUNCTION_OF_COALITIONS",SET_COALITIONS_SHAPLEY_VALUES:"SET_COALITIONS_SHAPLEY_VALUES",SET_MCNETS_NUMBER_OF_PLAYERS:"SET_MCNETS_NUMBER_OF_PLAYERS",SET_MCNETS_RULES:"SET_MCNETS_RULES",SET_MCNETS_SHAPLEY_VALUES:"SET_MCNETS_SHAPLEY_VALUES",SET_GRAPH_NUMBER_OF_PLAYERS:"SET_GRAPH_NUMBER_OF_PLAYERS",SET_GRAPH_EDGES:"SET_GRAPH_EDGES",SET_GRAPH_NODES:"SET_GRAPH_NODES",SET_GRAPH_SHAPLEY_VALUES:"SET_GRAPH_SHAPLEY_VALUES"},y=function(e){return{type:v.SET_COALITIONS_NUMBER_OF_PLAYERS,payload:e}},E=function(e){return{type:v.SET_COALITIONS_COALITIONS,payload:e}},O=function(e){return{type:v.SET_COALITIONS_FUNCTION_OF_COALITIONS,payload:e}},b=function(e){return{type:v.SET_MCNETS_NUMBER_OF_PLAYERS,payload:e}},h=function(e){return{type:v.SET_MCNETS_RULES,payload:e}},g=function(e){return{type:v.SET_GRAPH_NUMBER_OF_PLAYERS,payload:e}},S=function(e){return{type:v.SET_GRAPH_NODES,payload:e}},C=function(e){return{type:v.SET_GRAPH_EDGES,payload:e}},N=function(e){return{type:v.SET_GRAPH_SHAPLEY_VALUES,payload:e}},P=a(27),_=a(106),T=function(e,t){var a=-1;return e.forEach((function(e,n){_.a.isEqual(e,t)&&(a=n)})),a},j=function(e){return e.reduce((function(e,t){return e.concat(e.map((function(e){return[].concat(Object(P.a)(e),[t])})))}),[[]]).sort((function(e,t){return e.length-t.length}))},A=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e>0;)t*=e--;return t},x=function(e,t,a){var n=[];return e.forEach((function(l){var r=function(e,t,a,n){var l=0;return a.forEach((function(r){if(r.includes(e)){var i,o=n[T(a,r)],c=Object(P.a)(r);c.splice(r.indexOf(e),1);var u=null!==(i=n[T(a,c)])&&void 0!==i?i:0,s=A(c.length),d=A(t.length-c.length-1)*s/A(t.length);l+=(o-(null!==u&&void 0!==u?u:0))*d}})),Number(l.toFixed(2))}(l,e,t,a);n.push(r)})),n},M=function(e){return Array.from({length:e},(function(e,t){return t+1}))},I=function(e,t){var a=Array(t).fill(0);return e.forEach((function(e){var t,n,l=e.positivePlayers.length,r=e.negativePlayers.length,i=(t=l,n=r,e.value*A(t-1)*A(n)/A(t+n)),o=function(e,t,a){return-1*a*(A(t-1)*A(e))/A(e+t)}(l,r,e.value);e.positivePlayers.forEach((function(e){a[parseFloat(e)-1]+=i})),e.negativePlayers.forEach((function(e){a[parseFloat(e)-1]+=o}))})),a.map((function(e){return Number(e.toFixed(2))}))},L=function(e,t){var a=function(e){return e.map((function(e){var t,a,n,l=parseFloat(null!==(t=e.source.split("-copy-of-").at(-1))&&void 0!==t?t:""),r=parseFloat(null!==(a=e.target.split("-copy-of-").at(-1))&&void 0!==a?a:"");return{value:parseFloat(null!==(n=e.handleText)&&void 0!==n?n:""),coalition:l===r?[l]:[l,r]}}))}(t);return e.map((function(e){var t=0;return a.forEach((function(a){t+=a.coalition.includes(e)?a.value/(2===a.coalition.length?2:1):0})),t}))},R=function(e,t,a){var n=[];return null===a||void 0===a||a.forEach((function(a,l){var r,i,o;a&&n.push({positivePlayers:null!==(r=null===e||void 0===e||null===(i=e[l])||void 0===i?void 0:i.map(String))&&void 0!==r?r:[],negativePlayers:null!==(o=t.filter((function(t){var a;return!(null===e||void 0===e||null===(a=e[l])||void 0===a?void 0:a.includes(t))})).map(String))&&void 0!==o?o:[],value:null!==a&&void 0!==a?a:0})})),n},F=l.a.createElement("symbol",{viewBox:"0 0 200 200",id:"player"},l.a.createElement("circle",{cx:"100",cy:"100",r:"50"})),V={EdgeTypes:{normalEdge:{shape:l.a.createElement("symbol",{viewBox:"0 0 50 50",id:"normalEdge"},l.a.createElement("rect",{transform:"rotate(45)",x:"27.5",y:"-7.5",width:"15",height:"15",fill:"currentColor"})),shapeId:"#normalEdge"}},NodeSubtypes:{},NodeTypes:{player:{shape:F,shapeId:"#player",typeText:"Player"}}},k=function(e,t){var a=M(e),n=j(a);return[{nrOfPlayers:e,coalitions:n,functionOfCoalitions:n.map((function(e){return t*e.length}))},{nrOfPlayers:e,coalitions:n,functionOfCoalitions:n.map((function(e){return Math.pow(e.length,t)}))},{nrOfPlayers:e,coalitions:n,functionOfCoalitions:n.map((function(e){return t*Math.max.apply(Math,Object(P.a)(e))}))},{nrOfPlayers:e,coalitions:n,functionOfCoalitions:n.map((function(e){return t*Math.min.apply(Math,Object(P.a)(e))}))},{nrOfPlayers:e,coalitions:n,functionOfCoalitions:n.map((function(e){return t*parseFloat((a=e,a.reduce((function(e,t){return e+t}),0)/a.length).toFixed(2));var a}))},{nrOfPlayers:e,coalitions:n,functionOfCoalitions:n.map((function(e){return parseFloat((t*e.length*Math.random()).toFixed(2))}))},{nrOfPlayers:e,coalitions:n,functionOfCoalitions:n.map((function(e){return parseFloat((t*e.length*function e(){for(var t=0,a=0;0===t;)t=Math.random();for(;0===a;)a=Math.random();var n=Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*a);return(n=n/10+.5)>1||n<0?e():n}()).toFixed(2))}))}]},G=function(e,t,a){var n=2*Math.PI*t/e;return Math.cos(n)*(a?400:300)},U=function(e,t,a){var n=2*Math.PI*t/e;return Math.sin(n)*(a?400:300)},H=(a(154),a(240)),w=a(243),Y=function(e){var t=e.label,a=e.value,n=e.setValue;return l.a.createElement("div",{className:"input-section"},l.a.createElement(H.a,{layout:"horizontal",size:"middle",className:"number-input"},l.a.createElement(H.a.Item,{labelAlign:"right",label:null!==t&&void 0!==t?t:"Edge value"},l.a.createElement(w.a,{value:a,onChange:function(e){return n(e)}}))))},B=Object(o.b)((function(e){var t=e.aplication.graph||{};return{nrOfPlayers:t.nrOfPlayers,edges:t.edges,shapleyValues:t.shapleyValues}}),(function(e){return{setGraphShapleyValues:function(t){return e(N(t))},setMCNetsNumberOfPlayers:function(t){return e(b(t))},setMCNetsRules:function(t){return e(h(t))},setCoalitionsNumberOfplayers:function(t){return e(y(t))},setCoalitionsCoalitions:function(t){return e(E(t))},setCoalitionsFunctionOfCoalitions:function(t){return e(O(t))},setGraphNumberOfPlayers:function(t){return e(g(t))},setGraphEdges:function(t){return e(C(t))},setGraphNodes:function(t){return e(S(t))}}}))((function(e){var t=e.setActiveTabKey,a=e.setMCNetsNumberOfPlayers,r=e.setMCNetsRules,i=e.setCoalitionsNumberOfplayers,o=e.setCoalitionsCoalitions,u=e.setCoalitionsFunctionOfCoalitions,p=e.setGraphNumberOfPlayers,v=e.setGraphEdges,y=e.setGraphNodes,E=Object(n.useState)(1),O=Object(c.a)(E,2),b=O[0],h=O[1],g=Object(n.useState)(1),S=Object(c.a)(g,2),C=S[0],N=S[1],P=function(e){var n=function(e,t){return k(e,t).map((function(t){return{nrOfPlayers:e,rules:R(t.coalitions,M(e),t.functionOfCoalitions)}}))}(C,b)[e];a(n.nrOfPlayers),r(n.rules),t("mc-nets")},_=function(e){var a=function(e,t){var a,n=M(e);return[{nrOfPlayers:e,nodes:n.flatMap((function(t){return[{id:t.toString(),title:t.toString(),type:"player",x:G(e,t),y:U(e,t)},{id:"".concat((null!==e&&void 0!==e?e:0)+1).concat("-copy-of-").concat(t),title:"copied ".concat(t),type:"player",x:G(e,t,!0),y:U(e,t,!0)}]})),edges:null!==(a=n.map((function(a){return{handleText:t.toString(),source:a.toString(),target:"".concat((null!==e&&void 0!==e?e:0)+1).concat("-copy-of-").concat(a),type:"normalEdge"}})))&&void 0!==a?a:[]}]}(C,b)[e];p(a.nrOfPlayers),y(a.nodes),v(a.edges),t("graph")},T=[{title:"Game description",dataIndex:"description",key:"description"},{title:"Run example",dataIndex:"example",key:"example",width:280,render:function(e){return l.a.createElement("div",null,l.a.createElement(s.a,{size:"small",onClick:function(){return function(e){var a=k(C,b)[e];i(a.nrOfPlayers),o(a.coalitions),u(a.functionOfCoalitions),t("coalition")}(e)}},"Coalition Structures"),l.a.createElement(s.a,{size:"small",onClick:function(){return P(e)}},"MC-Nets"),l.a.createElement(s.a,{disabled:!!e,size:"small",onClick:function(){return _(e)}},"Graph"))}}];return l.a.createElement("div",{className:"game-examples"},l.a.createElement(d.a,{justify:"space-around"},l.a.createElement(Y,{label:"k value",value:b,setValue:h}),l.a.createElement(Y,{label:"nr of Players",value:C,setValue:N})),l.a.createElement(f.a,{bordered:!0,size:"small",dataSource:[{description:"f(C) = k*|C|",example:0},{description:"f(C) = |C|^k",example:1},{description:"f(C) = k*max(i in C)",example:2},{description:"f(C) = k*min(i in C)",example:3},{description:"f(C) = k*avg(i in C)",example:4},{description:"f(C) = k*|C|*uniform(0,1)",example:5},{description:"f(C) = k*|C|*normal(0,1)",example:6}],pagination:!1,className:"game-examples-table",showHeader:!0},T.map((function(e){return l.a.createElement(m.a,e)}))))})),z=a(238),D=(a(229),Object(o.b)((function(e){var t,a;return{coalitions:null===(t=e.aplication.coalitions)||void 0===t?void 0:t.coalitions,functionOfCoalitions:null===(a=e.aplication.coalitions)||void 0===a?void 0:a.functionOfCoalitions}}),(function(e){return{setCoalitionsFunctionOfCoalitions:function(t){return e(O(t))}}}))((function(e){var t=e.coalitions,a=e.functionOfCoalitions,n=e.setCoalitionsFunctionOfCoalitions,r=null===t||void 0===t?void 0:t.map((function(e,t){return{key:t,coalition:e.length?e.toString():"\xd8",value:0}})),i=[{title:"Coalition",dataIndex:"coalition",key:"coalition",align:"right"},{title:"Value",dataIndex:"value",key:"value",render:function(e,t){return l.a.createElement(w.a,{value:null===a||void 0===a?void 0:a[t.key],defaultValue:0,disabled:!t.key,onChange:function(e){var l=a?Object(P.a)(a):[];l[t.key]=e,n(l)}})},align:"left"}];return l.a.createElement(f.a,{bordered:!0,size:"small",dataSource:r,pagination:!1,scroll:{y:300},className:"coalition-structures-input"},i.map((function(e){return l.a.createElement(m.a,e)})))}))),K=function(e){var t=e.numberOfPlayers,a=e.message,n=e.maxValue,r=e.handleNumberOfPlayesChange;return l.a.createElement(H.a,{labelCol:{span:12},wrapperCol:{span:12},layout:"horizontal",size:"middle",className:"number-of-players-input"},l.a.createElement("div",{className:"error-message"},a),l.a.createElement(H.a.Item,{labelAlign:"right",label:"Number of players"},l.a.createElement(w.a,{min:0,max:n-1,defaultValue:0,value:t,onChange:r})))},J=function(e){var t=e.listShapleyValues,a=e.tableMaxHeight,n=t.map((function(e,t){return{key:t,value:e,playerNumber:t+1}}));return l.a.createElement(f.a,{bordered:!0,size:"small",dataSource:n,pagination:!1,scroll:{y:null!==a&&void 0!==a?a:300},className:"display-generated-values"},[{title:"Player number",dataIndex:"playerNumber",key:"playerNumber",align:"center"},{title:"Player Shapley Value",dataIndex:"value",key:"value",align:"center"}].map((function(e){return l.a.createElement(m.a,e)})))},q=a(136),Q=function(e){var t=e.accept,a=void 0===t?".csv, text/csv":t,l=e.cssClass,r=void 0===l?"csv-reader-input":l,i=e.cssInputClass,o=void 0===i?"csv-input":i,c=e.cssLabelClass,u=void 0===c?"csv-label":c,s=e.fileEncoding,d=void 0===s?"UTF-8":s,f=e.inputId,p=void 0===f?"react-csv-reader-input":f,m=e.inputName,v=void 0===m?"react-csv-reader-input":m,y=e.inputStyle,E=void 0===y?{}:y,O=e.inputRef,b=e.label,h=e.onError,g=void 0===h?function(){}:h,S=e.onFileLoaded,C=e.parserOptions,N=void 0===C?{}:C,P=e.disabled,_=void 0!==P&&P,T=e.strict,j=void 0!==T&&T;return n.createElement("div",{className:r},b&&n.createElement("label",{className:u,htmlFor:p},b),n.createElement("input",{className:o,type:"file",id:p,name:v,style:E,accept:a,onChange:function(e){var t=new FileReader,n=e.target.files;if(n.length>0){var l={name:n[0].name,size:n[0].size,type:n[0].type};if(j&&a.indexOf(l.type)<=0)return void g(new Error("[strict mode] Accept type not respected: got '".concat(l.type,"' but not in '").concat(a,"'")));t.onload=function(e){var a,r=q.parse(t.result,Object.assign(N,{error:g,encoding:d}));S(null!==(a=null===r||void 0===r?void 0:r.data)&&void 0!==a?a:[],l,n[0])},t.readAsText(n[0],d)}},disabled:_,ref:O}))},W=Object(o.b)((function(e){var t=e.aplication.coalitions||{};return{nrOfPlayes:t.nrOfPlayes,coalitions:t.coalitions,functionOfCoalitions:t.functionOfCoalitions,shapleyValues:t.shapleyValues}}),(function(e){return{setCoalitionsNumberOfplayers:function(t){return e(y(t))},setCoalitionsCoalitions:function(t){return e(E(t))},setCoalitionsFunctionOfCoalitions:function(t){return e(O(t))},setCoalitionsShapleyValues:function(t){return e(function(e){return{type:v.SET_COALITIONS_SHAPLEY_VALUES,payload:e}}(t))},setMCNetsRules:function(t){return e(h(t))},setMCNetsNumberOfPlayers:function(t){return e(b(t))}}}))((function(e){var t=e.nrOfPlayes,a=e.coalitions,r=e.functionOfCoalitions,i=e.shapleyValues,o=e.setActiveTabKey,u=e.setCoalitionsNumberOfplayers,f=e.setCoalitionsCoalitions,p=e.setCoalitionsFunctionOfCoalitions,m=e.setCoalitionsShapleyValues,v=e.setMCNetsNumberOfPlayers,y=e.setMCNetsRules,E=Object(n.useState)(t?M(t):[]),O=Object(c.a)(E,2),b=O[0],h=O[1],g=Object(n.useState)(void 0),S=Object(c.a)(g,2),C=S[0],N=S[1],_=Object(n.useRef)(null);Object(n.useEffect)((function(){if(b){var e=j(b);e[0].unshift(0),f(e)}}),[b,f]),Object(n.useEffect)((function(){h(M(null!==t&&void 0!==t?t:0))}),[t]);return l.a.createElement("div",{className:"calculator-coalition-structures"},l.a.createElement(K,{numberOfPlayers:t,maxValue:10,message:C,handleNumberOfPlayesChange:function(e){e<10?(u(e),h(M(e)),p(Array(Math.pow(2,e)).fill(0)),m([]),N(void 0)):N("Number of coalition members exceded!")}}),l.a.createElement(d.a,{justify:"center"},l.a.createElement(z.a,{xs:24,sm:24,md:24,lg:10,xl:10},l.a.createElement(D,null),l.a.createElement("div",{className:"upload"},l.a.createElement(Q,{cssClass:"react-csv-input",label:l.a.createElement("div",{className:"ant-btn ant-btn-default"},l.a.createElement("span",null,"Upload game definition from .csv file")," "),onFileLoaded:function(e){var t=[],a=[],n=0;e.forEach((function(e){var l;e.pop();var r=e.slice(0,-1);n=r.length>n?r.length:n,t.push(r),a.push(null!==(l=e.slice(-1).pop())&&void 0!==l?l:0)})),u(n),f(t),p(a),_.current&&(_.current.value="")},inputStyle:{display:"none"},inputName:"input2",inputRef:_,parserOptions:{header:!1,dynamicTyping:!0,skipEmptyLines:!0}})),l.a.createElement("div",{className:"download"},l.a.createElement(s.a,{onClick:function(){var e,t=null!==(e=null===a||void 0===a?void 0:a.map((function(e,t){var a;return[].concat(Object(P.a)(e),[null!==(a=null===r||void 0===r?void 0:r[t])&&void 0!==a?a:0])})))&&void 0!==e?e:[[0]],n="data:text/csv;charset=utf-8,"+(null===t||void 0===t?void 0:t.map((function(e){return e.join(",")+","})).join("\n"));window.open(encodeURI(n))}},"Download Game Definition"))),l.a.createElement(z.a,{className:"buttons-col",xs:24,sm:24,md:24,lg:4,xl:4},l.a.createElement(s.a,{type:"primary",disabled:!t,style:{margin:"8px"},className:"generate-button",onClick:function(){return m(x(b,null!==a&&void 0!==a?a:[],null!==r&&void 0!==r?r:[]))}},"Generate Shapley Values"),l.a.createElement(s.a,{disabled:!t,className:"generate-button",onClick:function(){v(b.length),y(R(null!==a&&void 0!==a?a:[[]],b,null!==r&&void 0!==r?r:[])),o("mc-nets")}},"Translate to MC Nets")),l.a.createElement(z.a,{xs:24,sm:24,md:24,lg:10,xl:10},l.a.createElement(J,{listShapleyValues:null!==i&&void 0!==i?i:[]}))))})),X=a(244),Z=a(141),$=Object(o.b)((function(e){var t;return{rules:null===(t=e.aplication.mcNets)||void 0===t?void 0:t.rules}}),(function(e){return{setMCNetsRules:function(t){return e(h(t))}}}))((function(e){var t=e.rules,a=e.setMCNetsRules;return l.a.createElement("div",{className:"add-mc-nets-rule"},l.a.createElement(d.a,{justify:"center",align:"middle"},l.a.createElement(z.a,{flex:"64px"},"Add Rule"),l.a.createElement(z.a,{flex:"40px"},l.a.createElement(s.a,{type:"primary",shape:"circle",icon:l.a.createElement(Z.a,null),onClick:function(){return a([].concat(Object(P.a)(null!==t&&void 0!==t?t:[]),[{positivePlayers:[],negativePlayers:[],value:0}]))}}))))})),ee=a(245),te=a(75),ae=(a(230),function(e){var t=e.options,a=e.value,n=e.onChange;return l.a.createElement("div",{className:"player-group"},l.a.createElement(te.a.Group,{options:t,value:a,onChange:n,style:{width:"calc(".concat(t.length," * 52px)")}}))}),ne=Object(o.b)((function(e){var t,a=null!==(t=e.aplication.mcNets)&&void 0!==t?t:{};return{nrOfPlayes:a.nrOfPlayes,rules:a.rules}}),(function(e){return{setMCNetsRules:function(t){return e(h(t))}}}))((function(e){var t,a,n=e.index,r=e.nrOfPlayes,i=e.rules,o=e.setMCNetsRules,c=M(null!==r&&void 0!==r?r:0).map(String);return l.a.createElement("div",{className:"mc-nets-rule"},l.a.createElement(d.a,{wrap:!1,justify:"center"},l.a.createElement(z.a,{flex:"100px",className:"mc-nets-rule-name"},"Rule nr ".concat(n),l.a.createElement(w.a,{placeholder:"Value",onChange:function(e){var t=Object(P.a)(null!==i&&void 0!==i?i:[]);t[n].value=e,o(t)},value:null===i||void 0===i?void 0:i[n].value})),l.a.createElement(z.a,{flex:"auto"},l.a.createElement(ae,{onChange:function(e){var t=Object(P.a)(null!==i&&void 0!==i?i:[]);t[n].positivePlayers=e,t[n].negativePlayers=t[n].negativePlayers.filter((function(t){return!e.includes(t)})),o(t)},value:null!==(t=null===i||void 0===i?void 0:i[n].positivePlayers)&&void 0!==t?t:[],options:c})),l.a.createElement(z.a,{flex:"auto"},l.a.createElement(ae,{onChange:function(e){var t=Object(P.a)(null!==i&&void 0!==i?i:[]);t[n].negativePlayers=e,t[n].positivePlayers=t[n].positivePlayers.filter((function(t){return!e.includes(t)})),o(t)},value:null!==(a=null===i||void 0===i?void 0:i[n].negativePlayers)&&void 0!==a?a:[],options:c})),l.a.createElement(z.a,{flex:"48px"},l.a.createElement(s.a,{type:"primary",shape:"circle",icon:l.a.createElement(ee.a,null),style:{margin:"0 8px"},onClick:function(){var e=Object(P.a)(null!==i&&void 0!==i?i:[]);e.splice(n,1),o(e)}}))))})),le=(a(231),Object(o.b)((function(e){var t,a=null!==(t=e.aplication.mcNets)&&void 0!==t?t:{};return{nrOfPlayes:a.nrOfPlayes,rules:a.rules,shapleyValues:a.shapleyValues}}),(function(e){return{setMCNetsNumberOfPlayers:function(t){return e(b(t))},setMCNetsShapleyValues:function(t){return e(function(e){return{type:v.SET_MCNETS_SHAPLEY_VALUES,payload:e}}(t))},setMCNetsRules:function(t){return e(h(t))},setCoalitionsNumberOfplayers:function(t){return e(y(t))},setCoalitionsCoalitions:function(t){return e(E(t))},setCoalitionsFunctionOfCoalitions:function(t){return e(O(t))}}}))((function(e){var t=e.nrOfPlayes,a=e.rules,r=e.shapleyValues,i=e.setActiveTabKey,o=e.setMCNetsNumberOfPlayers,u=e.setMCNetsShapleyValues,f=e.setMCNetsRules,p=e.setCoalitionsNumberOfplayers,m=e.setCoalitionsCoalitions,v=e.setCoalitionsFunctionOfCoalitions,y=Object(n.useState)(["1"]),E=Object(c.a)(y,2),O=E[0],b=E[1];return l.a.createElement("div",{className:"calculator-mc-nets"},l.a.createElement(X.a,{activeKey:O,onChange:function(e){return b(e)}},l.a.createElement(X.a.Panel,{header:"Game Definition",key:"1"},l.a.createElement(d.a,{justify:"center",style:{marginBottom:"16px"}},l.a.createElement(z.a,{span:6},l.a.createElement(K,{maxValue:20,numberOfPlayers:t,handleNumberOfPlayesChange:function(e){var n,l=e<(null!==t&&void 0!==t?t:0);(o(e),u([]),l)&&f(null!==(n=null===a||void 0===a?void 0:a.map((function(e){var a=e.value,n=e.positivePlayers,l=e.negativePlayers,r=(null!==t&&void 0!==t?t:0).toString();return{value:a,positivePlayers:n.filter((function(e){return e!==r})),negativePlayers:l.filter((function(e){return e!==r}))}})))&&void 0!==n?n:[])}})),l.a.createElement(z.a,{span:12},l.a.createElement(d.a,{justify:"center"},l.a.createElement(s.a,{type:"primary",disabled:!t,className:"generate-button",onClick:function(){u(I(null!==a&&void 0!==a?a:[],null!==t&&void 0!==t?t:0));var e=O.includes("2")?O:[].concat(Object(P.a)(O),["2"]);b(e)}},"Generate Shapley Values"),l.a.createElement(s.a,{disabled:!t&&(null!==t&&void 0!==t?t:0)<10,className:"generate-button",onClick:function(){var e=j(M(null!==t&&void 0!==t?t:0));p(null!==t&&void 0!==t?t:0),m(e),v(function(e,t){var a=Array(t.length).fill(0);return t.forEach((function(n){e.forEach((function(e){e.positivePlayers.every((function(e){return n.includes(parseFloat(e))}))&&!e.negativePlayers.some((function(e){return n.includes(parseFloat(e))}))&&(a[T(t,n)]+=e.value)}))})),a}(null!==a&&void 0!==a?a:[],e)),i("coalition")},style:{marginLeft:"8px"}},"Translate to Characteristic function"))),l.a.createElement(z.a,{span:6},l.a.createElement($,null))),l.a.createElement("div",{className:"mc-nets-rules"},(null===a||void 0===a?void 0:a.length)?l.a.createElement(d.a,{align:"middle",wrap:!1,justify:"center"},l.a.createElement(z.a,{flex:"100px",className:"mc-nets-rule-name"}),l.a.createElement(z.a,{flex:"auto"},l.a.createElement("div",{className:"player-group-name"},"Positive Players")),l.a.createElement(z.a,{flex:"auto"},l.a.createElement("div",{className:"player-group-name"},"Negative Players"))):null,null===a||void 0===a?void 0:a.map((function(e,t){return l.a.createElement(ne,{key:t,index:t})})))),l.a.createElement(X.a.Panel,{header:"Shapley Values",key:"2",className:"values-panel"},l.a.createElement(J,{listShapleyValues:null!==r&&void 0!==r?r:[],tableMaxHeight:200}))))}))),re=a(140),ie=a(17),oe=a(137),ce=function(e){var t=e.valueForEdge,a=e.setValueForEdge;return l.a.createElement("div",{className:"graph-input-section"},l.a.createElement(H.a,{layout:"horizontal",size:"middle",className:"number-of-players-input"},l.a.createElement(H.a.Item,{labelAlign:"right",label:"Edge value"},l.a.createElement(w.a,{value:t,onChange:function(e){return a(e)}}))))},ue=Object(o.b)((function(e){var t=e.aplication.graph||{};return{nrOfPlayers:t.nrOfPlayers,edges:t.edges,nodes:t.nodes}}),(function(e){return{setGraphNumberOfPlayers:function(t){return e(g(t))},setGraphEdges:function(t){return e(C(t))},setGraphNodes:function(t){return e(S(t))}}}))((function(e){var t=e.nrOfPlayers,a=e.edges,r=e.nodes,i=e.setGraphNumberOfPlayers,o=e.setGraphEdges,u=e.setGraphNodes,s=Object(n.useState)(0),d=Object(c.a)(s,2),f=d[0],p=d[1],m=Object(n.useState)(null),v=Object(c.a)(m,2),y=v[0],E=v[1],O=Object(n.useState)(null),b=Object(c.a)(O,2),h=b[0],g=b[1],S=Object(n.useRef)(null);return l.a.createElement("div",{className:"graph-container"},l.a.createElement(ce,{valueForEdge:f,setValueForEdge:p}),l.a.createElement(oe.GraphView,{showGraphControls:!0,gridSize:12e3,gridDotSize:1,ref:S,nodeKey:"id",nodes:null!==r&&void 0!==r?r:[],edges:null!==a&&void 0!==a?a:[],selected:y,nodeTypes:V.NodeTypes,nodeSubtypes:V.NodeSubtypes,edgeTypes:V.NodeTypes,onSelectNode:function(e){E(e)},onCreateNode:function(e,t){var a=null!==r&&void 0!==r?r:[],n=function(e){for(var t=e.length,a=0;a<t;a++)e[a]<0&&(e[a]=0);for(var n=0;n<t;n++){var l=Math.abs(e[n])-1;l>=0&&l<=t&&(e[l]>0&&(e[l]=-e[l]),0===e[l]&&(e[l]=-1/0))}for(var r=0;r<t;r++)if(e[r]>=0)return r+1;return t+1}(a.map((function(e){return e.title.elementAfterSplit("copied ")})).filter(String).map(Number)),l={id:"".concat(n),title:"".concat(n),type:"player",x:e,y:t};a.push(l),i(n),u(a),E(l)},onUpdateNode:function(e){var t,a=null!==r&&void 0!==r?r:[];a[(t=e,r?r.findIndex((function(e){return e.id===t.id})):-1)]=e,u(null!==a&&void 0!==a?a:[])},onDeleteNode:function(e,n,l){var r=null===a||void 0===a?void 0:a.filter((function(t,a){return t.source!==e.id&&t.target!==e.id}));e.title.includes("copied ")||i(t?t-1:0),u(l),o(null!==r&&void 0!==r?r:[]),E(null)},onSelectEdge:function(e){E(e)},onCreateEdge:function(e,t){var n={source:e.id,target:t.id,handleText:f.toString(),type:"normalEdge"};(function(e){var t,n,l=null===(t=e.source)||void 0===t?void 0:t.elementAfterSplit("-copy-of-"),r=null===(n=e.target)||void 0===n?void 0:n.elementAfterSplit("-copy-of-"),i=null===a||void 0===a?void 0:a.some((function(e){var t,a,n=null===e||void 0===e||null===(t=e.source)||void 0===t?void 0:t.elementAfterSplit("-copy-of-"),i=null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.elementAfterSplit("-copy-of-");return l===n&&r===i||l===i&&r===n})),o=e.source.includes("-copy-of-"),c=e.target.includes("-copy-of-"),u=!(o&&!(r===l));return e.source!==e.target&&!i&&u&&!c})(n)&&(o([].concat(Object(P.a)(null!==a&&void 0!==a?a:[]),[n])),E(n))},onSwapEdge:function(e,t,n){var l,r=null!==a&&void 0!==a?a:[],i=(l=n,a?a.findIndex((function(e){return e.source===l.source&&e.target===l.target})):-1),c=JSON.parse(JSON.stringify(r[i]));c.source=e.id,c.target=t.id,r[i]=c,o(Object(P.a)(r)),E(c)},onDeleteEdge:function(e,t){o(t),E(null)},onCopySelected:function(){if(null===y||void 0===y?void 0:y.source)console.warn("Cannot copy selected edges, try selecting a node instead.");else if(y){var e=(y.x+20).toString(),t=(y.y+20).toString();g(Object(ie.a)(Object(ie.a)({},y),{},{x:e,y:t}))}},onPasteSelected:function(){if(h){var e=null===r||void 0===r?void 0:r.filter((function(e){return e.title.elementAfterSplit("copied ")===h.title.elementAfterSplit("copied ")}));if(e&&e.length>=2)return console.warn("Node already have a copy"),null;var a=r,n=Object(ie.a)(Object(ie.a)({},h),{},{id:"".concat((null!==t&&void 0!==t?t:0)+1).concat("-copy-of-").concat(h.id),title:"".concat("copied ").concat(h.title)});u([].concat(Object(P.a)(null!==a&&void 0!==a?a:[]),[n]))}},readOnly:!1}))})),se=function(){return l.a.createElement("div",null,l.a.createElement("ul",null,l.a.createElement("li",null,"To add player, hold shift and click on the grid."),l.a.createElement("li",null,"To add edge with value, change the value on the 'Edge value' input, then hold shift and click/drag to between players."),l.a.createElement("li",null,"To delete a node or edge, click on it and press delete."),l.a.createElement("li",null,"Click and drag nodes to change their position."),l.a.createElement("li",null,"To create self edges copy and paste with (Ctrl+C and Ctrl+V) a player and create an edge between original and copy."),l.a.createElement("li",null,"Note: On Mac computers, use Cmd instead of Ctrl.")))},de=(a(232),Object(o.b)((function(e){var t=e.aplication.graph||{};return{nrOfPlayers:t.nrOfPlayers,edges:t.edges,shapleyValues:t.shapleyValues}}),(function(e){return{setGraphShapleyValues:function(t){return e(N(t))},setMCNetsNumberOfPlayers:function(t){return e(b(t))},setMCNetsRules:function(t){return e(h(t))},setCoalitionsNumberOfplayers:function(t){return e(y(t))},setCoalitionsCoalitions:function(t){return e(E(t))},setCoalitionsFunctionOfCoalitions:function(t){return e(O(t))}}}))((function(e){var t=e.nrOfPlayers,a=e.edges,r=e.shapleyValues,i=e.setActiveTabKey,o=e.setGraphShapleyValues,u=e.setMCNetsNumberOfPlayers,f=e.setMCNetsRules,p=e.setCoalitionsNumberOfplayers,m=e.setCoalitionsCoalitions,v=e.setCoalitionsFunctionOfCoalitions,y=Object(n.useState)(["1"]),E=Object(c.a)(y,2),O=E[0],b=E[1];return l.a.createElement("div",{className:"calculator-graph"},l.a.createElement(d.a,{justify:"space-around",style:{marginBottom:"16px"}},l.a.createElement(re.a,{content:l.a.createElement(se,null),title:"Description",trigger:"hover"},l.a.createElement(s.a,null,"How to use")),l.a.createElement(s.a,{type:"primary",disabled:!(null===a||void 0===a?void 0:a.length),className:"generate-button",onClick:function(){b(["2"]),o(L(M(null!==t&&void 0!==t?t:0),null!==a&&void 0!==a?a:[]))}},"Generate Shapley Values"),l.a.createElement(s.a,{disabled:!(null===a||void 0===a?void 0:a.length),className:"generate-button",onClick:function(){f(function(e){return e.map((function(e){var t,a,n,l=null!==(t=e.source.split("-copy-of-").at(-1))&&void 0!==t?t:"",r=null!==(a=e.target.split("-copy-of-").at(-1))&&void 0!==a?a:"";return{value:parseFloat(null!==(n=e.handleText)&&void 0!==n?n:""),positivePlayers:l===r?[l]:[l,r],negativePlayers:[]}}))}(null!==a&&void 0!==a?a:[])),u(null!==t&&void 0!==t?t:0),i("mc-nets")}},"Translate to MC Nets"),l.a.createElement(s.a,{disabled:!(null===a||void 0===a?void 0:a.length)||(null!==t&&void 0!==t?t:0)>10,className:"generate-button",onClick:function(){var e=j(M(null!==t&&void 0!==t?t:0));p(null!==t&&void 0!==t?t:0),m(e),v(function(e,t){return e.map((function(e){var a=0;return null===t||void 0===t||t.forEach((function(t){var n,l,r;e.includes(parseFloat(null!==(n=t.source.elementAfterSplit("-copy-of-"))&&void 0!==n?n:"0"))&&e.includes(parseFloat(null!==(l=t.target.elementAfterSplit("-copy-of-"))&&void 0!==l?l:"0"))&&(a+=parseFloat(null!==(r=t.handleText)&&void 0!==r?r:"0"))})),a}))}(e,null!==a&&void 0!==a?a:[])),i("coalition")}},"Translate to Characteristic function")),l.a.createElement(X.a,{activeKey:O,onChange:function(e){return b(e)}},l.a.createElement(X.a.Panel,{header:"Graph Game Definition",key:"1"},l.a.createElement(ue,null)),l.a.createElement(X.a.Panel,{header:"Calculated Shapley Values",key:"2"},l.a.createElement(J,{listShapleyValues:null!==r&&void 0!==r?r:[]}))))}))),fe=u.a.TabPane,pe=function(){var e=Object(n.useState)("coalition"),t=Object(c.a)(e,2),a=t[0],r=t[1];return l.a.createElement(u.a,{activeKey:a,onTabClick:function(e){return r(e)},centered:!0},l.a.createElement(fe,{tab:"Characteristic function",key:"coalition"},l.a.createElement(W,{setActiveTabKey:r})),l.a.createElement(fe,{tab:"Function generating values",key:"example"},l.a.createElement(B,{setActiveTabKey:r})),l.a.createElement(fe,{tab:"MC-nets game representation",key:"mc-nets"},l.a.createElement(le,{setActiveTabKey:r})),l.a.createElement(fe,{tab:"Graph game representation",key:"graph"},l.a.createElement(de,{setActiveTabKey:r})))},me=a(242),ve=(a(233),function(){return l.a.createElement(me.a,{title:"Shapley Value Calculator",subTitle:"Pick your game definition"})}),ye=a(105),Ee={graph:{nrOfPlayers:1,nodes:[{id:"1",title:"1",type:"player",x:300,y:300}]}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.SET_COALITIONS_NUMBER_OF_PLAYERS:return Object(ie.a)(Object(ie.a)({},e),{},{coalitions:Object(ie.a)(Object(ie.a)({},e.coalitions),{},{nrOfPlayes:t.payload})});case v.SET_COALITIONS_COALITIONS:return Object(ie.a)(Object(ie.a)({},e),{},{coalitions:Object(ie.a)(Object(ie.a)({},e.coalitions),{},{coalitions:t.payload})});case v.SET_COALITIONS_FUNCTION_OF_COALITIONS:return Object(ie.a)(Object(ie.a)({},e),{},{coalitions:Object(ie.a)(Object(ie.a)({},e.coalitions),{},{functionOfCoalitions:t.payload})});case v.SET_COALITIONS_SHAPLEY_VALUES:return Object(ie.a)(Object(ie.a)({},e),{},{coalitions:Object(ie.a)(Object(ie.a)({},e.coalitions),{},{shapleyValues:t.payload})});case v.SET_MCNETS_NUMBER_OF_PLAYERS:return Object(ie.a)(Object(ie.a)({},e),{},{mcNets:Object(ie.a)(Object(ie.a)({},e.mcNets),{},{nrOfPlayes:t.payload})});case v.SET_MCNETS_RULES:return Object(ie.a)(Object(ie.a)({},e),{},{mcNets:Object(ie.a)(Object(ie.a)({},e.mcNets),{},{rules:t.payload})});case v.SET_MCNETS_SHAPLEY_VALUES:return Object(ie.a)(Object(ie.a)({},e),{},{mcNets:Object(ie.a)(Object(ie.a)({},e.mcNets),{},{shapleyValues:t.payload})});case v.SET_GRAPH_NUMBER_OF_PLAYERS:return Object(ie.a)(Object(ie.a)({},e),{},{graph:Object(ie.a)(Object(ie.a)({},e.graph),{},{nrOfPlayers:t.payload})});case v.SET_GRAPH_EDGES:return Object(ie.a)(Object(ie.a)({},e),{},{graph:Object(ie.a)(Object(ie.a)({},e.graph),{},{edges:t.payload})});case v.SET_GRAPH_NODES:return Object(ie.a)(Object(ie.a)({},e),{},{graph:Object(ie.a)(Object(ie.a)({},e.graph),{},{nodes:t.payload})});case v.SET_GRAPH_SHAPLEY_VALUES:return Object(ie.a)(Object(ie.a)({},e),{},{graph:Object(ie.a)(Object(ie.a)({},e.graph),{},{shapleyValues:t.payload})});default:return e}},be=Object(ye.a)({aplication:Oe}),he=Object(ye.b)(be),ge=function(){return l.a.createElement(o.a,{store:he},l.a.createElement("div",{className:"app"},l.a.createElement(ve,null),l.a.createElement(pe,null)))};String.prototype.elementAfterSplit=function(e){return this.split(e).at(-1)},i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ge,null)),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.70df4fae.chunk.js.map